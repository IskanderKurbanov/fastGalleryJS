const tagCss="max-width: 1200px;margin:30px auto;",descriptionTag="p";class Fag{constructor(a){this.width=document.body.clientWidth,this.headlines=a.headlines,this.tools=a.tools,a.data?this.data=a.data:console.log("not data"),a.tag&&(this.tag=document.querySelector(a.tag),this.tools&&this.renderTools(this.tools),this.tag.style.cssText=null==a.tagStyle||""==a.tagStyle?tagCss:a.tagStyle,this.renderGallery(this.width)),document.querySelector(".FAG_tools").querySelectorAll("aside").forEach(a=>{a.addEventListener("click",()=>this.postRender(a.getAttribute("data")))})}postRender(a){let b;b="_list"==a?this.tag.querySelectorAll(".FAG_row"):this.tag.querySelectorAll(".FAG_row_list"),this.tag.querySelectorAll("article").forEach((b,c)=>{b.className=0==(c+1)%3?"FAG_item_th"+a:"FAG_item"+a,b.querySelector("a")?b.querySelector("a").className="FAG_link":"",b.querySelector("aside").className="FAG_aside"+a,b.querySelector(descriptionTag).className="FAG_p"}),b.forEach(b=>b.className="FAG_row"+a),this.tools&&document.querySelector(".FAG_tools").querySelectorAll("aside").forEach(b=>{b.className=b.getAttribute("data")==a?"FAG_active":""})}renderTools(a){let b,c;b=a.view?"<aside data=\"\">row</aside><aside data=\"_list\">list</aside>":"",c=a.statistic?"statistic: cooming soon":"";const d=document.createElement("div");this.tag.append(d),d.innerHTML=`<div class="FAG_tools">
									${c}
									${b}
								</div>`}renderHeadlines(a){if(this.headlines){let b=this.headlines.map(a=>`<p>${a}</p>`);this.tag.innerHTML="<nav class=\"FAG_nav\">"+b.join("")+"</nav>"+a.join("");let c=this.tag.querySelector("nav");c.querySelectorAll("p").forEach(a=>a.className="FAG_nav_p")}return a.join("")}renderGallery(a){const b=document.createElement("div");this.tag.append(b);let c=this.data.map((a,b)=>{let c,d,e,f,g;return a.img&&(c=a.img),d=a.text?`<${descriptionTag}>${a.text}</${descriptionTag}>`:`<${descriptionTag}> ${b+1} </${descriptionTag}>`,e=a.mobileText?`<span class="FAG_mobileP">${a.mobileText}</span>`:`<span class="FAG_mobileP"></span>`,f=`<aside style="background-image:url(${c})">${d}${e}</aside>`,g=a.link?`<article><a href="${a.link}">${f}</a></article>`:`<article>${f}</article>`,0!=b%3||(g="<div class=\"FAG_row\">"+g),0!=(b+1)%3&&this.data.length-1!=b||(g+="</div>"),this.headlines&&-1!=this.headlines.indexOf(a.title)?g:g}),d=this.renderHeadlines(c,"_list");b.innerHTML=d,1e3>=a?this.postRender("_list"):this.postRender("")}}