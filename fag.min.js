const tagCss="max-width: 1200px;margin:30px auto;",descriptionTag="p";class Fag{constructor(a){this.width=document.body.clientWidth,this.headlines=a.headlines,a.data?this.data=a.data:console.log("not data"),a.defaultKey&&this.data.forEach(b=>{a.defaultKey.title&&(Object.defineProperty(b,"title",Object.getOwnPropertyDescriptor(b,a.defaultKey.title)),delete b[a.defaultKey.title]),a.defaultKey.text&&(Object.defineProperty(b,"text",Object.getOwnPropertyDescriptor(b,a.defaultKey.text)),delete b[a.defaultKey.text]),a.defaultKey.mobileText&&(Object.defineProperty(b,"mobileText",Object.getOwnPropertyDescriptor(b,a.defaultKey.mobileText)),delete b[a.defaultKey.mobileText]),a.defaultKey.img&&(Object.defineProperty(b,"img",Object.getOwnPropertyDescriptor(b,a.defaultKey.img)),delete b[a.defaultKey.img]),a.defaultKey.link&&(Object.defineProperty(b,"link",Object.getOwnPropertyDescriptor(b,a.defaultKey.link)),delete b[a.defaultKey.link])}),a.tag&&(this.tag=document.querySelector(a.tag),this.tag.style.cssText=tagCss,this.renderGallery(this.width)),document.querySelector(".FAG_tools").querySelectorAll("aside").forEach(a=>{a.addEventListener("click",()=>this.postRender(a.getAttribute("data"))),a.addEventListener("touchend",()=>this.postRender(a.getAttribute("data")))})}postRender(a){let b,c;c="_list"==a?this.tag.querySelectorAll(".FAG_row"):this.tag.querySelectorAll(".FAG_row_list"),b=this.tag.querySelectorAll("article"),"_list"==a?b.forEach((b,c)=>{b.className=0==(c+1)%3?"FAG_item_th"+a:"FAG_item"+a,b.querySelector("a")?b.querySelector("a").className="FAG_link":"",b.querySelector("aside").className="FAG_aside"+a,b.querySelector(descriptionTag).className="FAG_p"}):b.forEach((a,b)=>{a.className=0==(b+1)%3?"FAG_item_th":"FAG_item",a.querySelector("a")?a.querySelector("a").className="FAG_link":"",a.querySelector("aside").className="FAG_aside",a.querySelector(descriptionTag).className="FAG_p"}),c.forEach(b=>{b.className="FAG_row"+a}),document.querySelector(".FAG_tools").querySelectorAll("aside").forEach(b=>{b.className=b.getAttribute("data")==a?"FAG_active":""})}renderGallery(a){let b=this.data.map((a,b)=>{let c,d,e,f,g;if(a.img&&(c=a.img),d=a.text?`<${descriptionTag}>${a.text}</${descriptionTag}>`:`<${descriptionTag}> ${b+1} </${descriptionTag}>`,e=a.mobileText?`<span class="FAG_mobileP">${a.mobileText}</span>`:`<span class="FAG_mobileP"></span>`,f=`<aside style="background-image:url(${c})">${d}${e}</aside>`,g=a.link?`<article><a href="${a.link}">${f}</a></article>`:`<article>${f}</article>`,0!=b%3||(g="<div class=\"FAG_row\">"+g),0!=(b+1)%3&&this.data.length-1!=b||(g+="</div>"),!this.headlines)return g;return-1==this.headlines.indexOf(a.title)?void 0:g});if(this.headlines){let a=this.headlines.map(a=>`<p>${a}</p>`);this.tag.innerHTML="<nav class=\"FAG_nav\">"+a.join("")+"</nav>"+b.join("");let c=this.tag.querySelector("nav");c.querySelectorAll("p").forEach(a=>a.className="FAG_nav_p")}else this.tag.innerHTML=`<div class="FAG_tools"><aside data="">row</aside><aside data="${"_list"}">list</aside></div>`+b.join("");1e3>=a?this.postRender("_list"):this.postRender("")}}